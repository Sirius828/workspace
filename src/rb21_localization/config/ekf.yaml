### ekf config file ###
ekf_filter_node:
    ros__parameters:
        frequency: 30.0
        sensor_timeout: 0.3
        # ekf_localization_node and ukf_localization_node both use a 3D omnidirectional motion model. If this parameter is
        # set to true, no 3D information will be used in your state estimate. Use this if you are operating in a planar
        # environment and want to ignore the effect of small variations in the ground plane that might otherwise be detected
        # by, for example, an IMU. Defaults to false if unspecified.
        two_d_mode: false

        # Whether to publish the acceleration state. Defaults to false if unspecified.
        publish_acceleration: true

        # Whether to broadcast the transformation over the /tf topic. Defaults to true if unspecified.
        publish_tf: true

        # 1. Set the map_frame, odom_frame, and base_link frames to the appropriate frame names for your system.
        #     1a. If your system does not have a map_frame, just remove it, and make sure "world_frame" is set to the value of odom_frame.
        # 2. If you are fusing continuous position data such as wheel encoder odometry, visual odometry, or IMU data, set "world_frame"
        #    to your odom_frame value. This is the default behavior for robot_localization's state estimation nodes.
        # 3. If you are fusing global absolute position data that is subject to discrete jumps (e.g., GPS or position updates from landmark
        #    observations) then:
        #     3a. Set your "world_frame" to your map_frame value
        #     3b. MAKE SURE something else is generating the odom->base_link transform. Note that this can even be another state estimation node
        #         from robot_localization! However, that instance should *not* fuse the global data.
        map_frame: map              # Defaults to "map" if unspecified
        odom_frame: odom            # Defaults to "odom" if unspecified
        base_link_frame: base_link  # Defaults to "base_link" if unspecified
        world_frame: odom           # Defaults to the value of odom_frame if unspecified

        odom0: /wheel/odom
        odom0_config: [true, true, false,   # 融合 X, Y 位置
                       false, false, true,    # 融合 yaw
                       true, true, false,   # 融合线速度 vx, vy
                       false, false, true,    # 融合角速度 yaw 速率
                       false, false, false]   # 不融合线加速度

        # odom1: demo/odom
        # odom1_config:  [true,  true, false,   # 融合 X, Y 位置
        #                false, false, true,    # 融合 yaw
        #                false, false, false,   # 不融合线速度
        #                false, false, true,    # 融合角速度 yaw 速率
        #                false, false, false]   # 不融合线加速度

        # odom2: /flow_odom
        # odom2_config:  [true,  true, false,
        #                false, false, true,
        #                false, false, false,
        #                false, false, true,
        #                false, false, false]

        imu0: /imu/data_raw
        imu0_config: [false, false, false,
                    false, false, false,      # 不用绝对姿态
                    false, false, false,
                    false, false, true,       # 只用 Yaw_rate
                    false, false, false]
        imu0_remove_gravitational_acceleration: true
        imu0_differential: false

        