<?xml version="1.0"?>
<launch>
  <!-- ç»Ÿä¸€ä¸²å£ç®¡ç†èŠ‚ç‚¹å•ç‹¬å¯åŠ¨æ–‡ä»¶ -->
  <!-- ç”¨äºŽè°ƒè¯•åº•ç›˜é‡Œç¨‹è®¡å’Œäº‘å°æŽ§åˆ¶åŠŸèƒ½ -->
  
  <!-- å‚æ•°å®šä¹‰ -->
  <arg name="serial_port" default="/dev/ttyTHS0" description="ä¸²å£è®¾å¤‡è·¯å¾„"/>
  <arg name="baud_rate" default="115200" description="ä¸²å£æ³¢ç‰¹çŽ‡"/>
  <arg name="config_file" default="$(find-pkg-share wheel_odom_driver)/config/unified_serial_debug_config.yaml" description="é…ç½®æ–‡ä»¶è·¯å¾„"/>
  <arg name="log_level" default="info" description="æ—¥å¿—çº§åˆ« (debug, info, warn, error)"/>
  <arg name="use_sim_time" default="false" description="æ˜¯å¦ä½¿ç”¨ä»¿çœŸæ—¶é—´"/>
  
  <!-- ç»Ÿä¸€ä¸²å£ç®¡ç†èŠ‚ç‚¹ -->
  <node pkg="wheel_odom_driver" exec="unified_serial_manager_node" name="unified_serial_manager" output="screen">
    <!-- åŠ è½½é…ç½®æ–‡ä»¶ -->
    <param from="$(var config_file)"/>
    
    <!-- è¦†ç›–ä¸²å£å‚æ•°ï¼ˆå¦‚æžœé€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šï¼‰ -->
    <param name="serial_port" value="$(var serial_port)"/>
    <param name="baud_rate" value="$(var baud_rate)"/>
    
    <!-- è®¾ç½®æ—¥å¿—çº§åˆ« -->
    <param name="ros.logging.severity" value="$(var log_level)"/>
    
    <!-- ä»¿çœŸæ—¶é—´è®¾ç½® -->
    <param name="use_sim_time" value="$(var use_sim_time)"/>
  </node>
  
  <!-- å¯åŠ¨ä¿¡æ¯ -->
  <group>
    <log message="========================================"/>
    <log message="ðŸ”Œ ç»Ÿä¸€ä¸²å£ç®¡ç†èŠ‚ç‚¹è°ƒè¯•æ¨¡å¼"/>
    <log message="========================================"/>
    <log message="ä¸²å£è®¾å¤‡: $(var serial_port)"/>
    <log message="æ³¢ç‰¹çŽ‡: $(var baud_rate)"/>
    <log message="é…ç½®æ–‡ä»¶: $(var config_file)"/>
    <log message="æ—¥å¿—çº§åˆ«: $(var log_level)"/>
    <log message=""/>
    <log message="ðŸ“Š ç›‘æŽ§è¯é¢˜:"/>
    <log message="  é‡Œç¨‹è®¡æ•°æ®: ros2 topic echo /wheel/odom"/>
    <log message="  äº‘å°è§’åº¦: ros2 topic echo /gimbal/current_angle"/>
    <log message=""/>
    <log message="ðŸŽ® æŽ§åˆ¶è¯é¢˜:"/>
    <log message="  åº•ç›˜é€Ÿåº¦: ros2 topic pub /cmd_vel geometry_msgs/msg/Twist ..."/>
    <log message="  äº‘å°è§’åº¦: ros2 topic pub /gimbal/angle_cmd geometry_msgs/msg/Vector3 ..."/>
    <log message=""/>
    <log message="ðŸ”§ è°ƒè¯•å‘½ä»¤:"/>
    <log message="  æŸ¥çœ‹è¯é¢˜: ros2 topic list"/>
    <log message="  æŸ¥çœ‹èŠ‚ç‚¹: ros2 node info /unified_serial_manager"/>
    <log message="  æŸ¥çœ‹å‚æ•°: ros2 param list /unified_serial_manager"/>
    <log message="========================================"/>
  </group>
  
</launch>
